<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Blank HTML5</title>
        
    <style>
      body {
        margin: 0px;
      }
      .frame {
        mmax-width: 100%;
        background: red;
        
        border-width: 0px;
        transform-origin: top left;
      }
    .holder{
      width: 400px;
      height:300px;
      position:relative;
    }
    .bar{
      position:absolute;
      top:0;
      left:0;
      width:100%;
      height:40px;
      background: green;
    }
    </style>

  </head>
  
  <body>
<!--
    <div class="container"></div>
-->
    
<!--
    <iframe class="container" src="pic.html"></iframe>
-->
    <div class="holder">
      <iframe class="frame" src="d3test.html"></iframe>
      <div class="bar"></div>
    </div>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>

    <script>
      //~ var initW  = 800; //ratio i want
      //~ var initH  = 450;
      var initW  = 50; //ratio i want - orig size of d3test
      var initH  = 50;
      var element = ".frame";
      $(document).ready(function() {
      
        $(element).css('width', initW);
        $(element).css('height', initH);
        
        $(window).resize(function(){
          
          var w  = $(window).width(),  // containing object w/h
              h = $(window).height();
          
          if ((w/h)-(initW/initH) > 0) // compare ratios: determine axis to scale on
            var sF = $(window).height() / initH // scale factor
          else
            var sF = $(window).width() / initW;
          $(element).css('transform', "scale(" + sF + ")");
          
        })
        .trigger('resize');
        
      });
    </script>
  </body>
</html>
